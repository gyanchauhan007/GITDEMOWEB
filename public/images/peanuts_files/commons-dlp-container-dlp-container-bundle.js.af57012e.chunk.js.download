(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[0],{"7w/A":function(e,t,n){"use strict";var r,o=(r=n("q1tI"))&&"object"===typeof r&&"default"in r?r.default:r;function a(e){return function(){return e}}var i=function(){};i.thatReturns=a,i.thatReturnsFalse=a(!1),i.thatReturnsTrue=a(!0),i.thatReturnsNull=a(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e};var s=i,u=Object.freeze({default:s,__moduleExports:s});var c=function(e,t,n,r,o,a,i,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,i,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}},l=Object.freeze({default:c,__moduleExports:c}),d=u&&s||u,p=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;function m(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(o){return!1}})()&&Object.assign;var b="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",v=Object.freeze({default:b,__moduleExports:b}),y=l&&c||l,g=v?b:v;var O=function(){function e(e,t,n,r,o,a){a!==g&&y(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=d,n.PropTypes=n,n},_=Object.freeze({default:O,__moduleExports:O}),w=_&&O||_,E=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){e.exports=w()})),T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),j=function(e){var t=e.snapshot;return o.createElement("div",{className:"react-thumbnail-generator"},o.createElement("img",{src:t,alt:"my video thumbnail"}))},S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getSnapShot=function(){try{var e=n.props,t=e.width,r=e.height,o=n.refs.videoEl,a=n.refs.canvas;a.height=o.videoHeight,a.width=o.videoWidth,t&&r?a.getContext("2d").drawImage(o,0,0,t,r):a.getContext("2d").drawImage(o,0,0);var i=a.toDataURL("image/png");o.src="",o.remove(),a.remove(),n.setState({snapshot:i}),n.state.thumbnailHandler&&n.state.thumbnailHandler(i)}catch(s){console.error(s)}},n.state={dataLoaded:!1,metadataLoaded:!1,seeked:!1,snapshot:!1,suspended:!1,cors:e.cors,width:e.width,height:e.height,renderThumbnail:e.renderThumbnail,snapshotAtTime:e.snapshotAtTime,thumbnailHandler:e.thumbnailHandler,videoUrl:e.videoUrl},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),T(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.renderThumbnail,r=t.snapshot,a=t.videoUrl;return r?n?o.createElement(j,{snapshot:r}):null:o.createElement("div",{className:"react-thumbnail-generator"},o.createElement("canvas",{className:"snapshot-generator",ref:"canvas"}),o.createElement("video",{muted:!0,className:"snapshot-generator",ref:"videoEl",src:a,onLoadedMetadata:function(){return e.setState({metadataLoaded:!0})},onLoadedData:function(){return e.setState({dataLoaded:!0})},onSuspend:function(){return e.setState({suspended:!0})},onSeeked:function(){return e.setState({seeked:!0})}}))}},{key:"componentWillReceiveProps",value:function(e){var t=!1,n={};for(var r in e)e[r]!==this.props[r]&&(n[r]=e[r],t||(t=!0));t&&this.setState(n)}},{key:"componentDidMount",value:function(){this.state.cors||this.refs.videoEl.setAttribute("crossOrigin","Anonymous")}},{key:"componentDidUpdate",value:function(e,t){if(!this.state.snapshot){var n=this.state,r=n.metadataLoaded,o=n.dataLoaded,a=n.suspended,i=n.seeked,s=n.snapshot,u=n.snapshotAtTime;r&&o&&a&&((!this.refs.videoEl.currentTime||this.refs.videoEl.currentTime<this.state.snapshotAtTime)&&(this.refs.videoEl.currentTime=u),i&&!s&&this.getSnapShot())}}}]),t}(o.Component);S.propTypes={cors:E.bool,width:E.number,height:E.number,renderThumbnail:E.bool,snapshotAtTime:E.number,thumbnailHandler:E.func,videoUrl:E.string.isRequired},S.defaultProps={cors:!1,renderThumbnail:!0,snapshotAtTime:2},e.exports=S}}]);